@using ActivityPaint.Client.Components.Enums
@using ActivityPaint.Client.Components.Models
@using ActivityPaint.Client.Components.UI.Editor.CreateNewStage
@using ActivityPaint.Client.Components.UI.Editor.PaintStage
@using ActivityPaint.Client.Components.UI.Shared.Components.Stage

<div class="d-flex flex-column" style="width: 100%;">
    <CascadingValue Value="_editorModel" Name="EditorModel">
        <StagesContainerComponent @ref="_stagesContainer">
            <StageComponent Caption="Create new" Icon="@Icons.Material.Filled.OpenInNew">
                <CreateNewComponent />
            </StageComponent>
            <StageComponent Caption="Edit" Icon="@Icons.Material.Filled.Brush">
                <PaintComponent />
            </StageComponent>
            <StageComponent Caption="Generate" Icon="@CustomIcons.Gears">
                <h1>Generate stage</h1>
            </StageComponent>
        </StagesContainerComponent>
    </CascadingValue>
    <button @onclick="async () => await _stagesContainer.NextStage()">Next</button>
    <button @onclick="async () => await _stagesContainer.PreviousStage()">Previous</button>
</div>

@code {
    private StagesContainerComponent? _stagesContainer;
    private EditorModel _editorModel = new();
}
