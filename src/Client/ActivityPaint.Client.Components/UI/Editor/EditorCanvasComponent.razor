@using ActivityPaint.Client.Components.Integration
@using ActivityPaint.Client.Components.Models
@inject EditorCanvasInterop CanvasInterop

<table id="editor-canvas">
    @for (int r = 0; r < 7; r++)
    {
        <tr>
            @for (int c = 0; c < 54; c++)
            {
                <td>
                    <div class="canvas-cell" data-level="@(c % 5)"></div>
                </td>
            }
        </tr>
    }
</table>

@code {
    [Parameter, EditorRequired]
    public EditorSettingsModel Settings { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);

        if (firstRender)
        {
            await CanvasInterop.Init();
        }
    }
}
