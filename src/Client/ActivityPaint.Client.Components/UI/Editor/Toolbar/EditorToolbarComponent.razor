@using ActivityPaint.Client.Components.Enums
@using ActivityPaint.Client.Components.UI.Editor.Toolbar.Tools
@using ActivityPaint.Core.Enums

<MudPaper Elevation="25">
    <MudToolBar Class="gap-2">
        <EditorToolbarToolSelectComponent @bind-CurrentTool="CurrentTool" />
        <EditorToolbarToolBrushSizeComponent @bind-BrushSize="BrushSize" SizeSelectEnabled="EnableBrushSize" />
        <EditorToolbarToolIntensitySelectComponent @bind-SelectedIntensity="SelectedIntensity" IsDarkMode="IsDarkMode" IntensitySelectEnabled="EnableIntensitySelector" />
        <MudSpacer />
        <EditorToolbarToolYearPickComponent />
        <EditorToolbarToolThemeComponent OnDarkModeChanged="OnEditorThemeChanged" />
    </MudToolBar>
</MudPaper>

@code {
    [Parameter, EditorRequired]
    public bool IsDarkMode { get; set; }

    [Parameter]
    public EditorToolEnum CurrentTool { get; set; } = EditorToolEnum.Brush;

    [Parameter]
    public int BrushSize { get; set; } = 1;

    [Parameter]
    public IntensityEnum SelectedIntensity { get; set; } = IntensityEnum.Level0;

    [Parameter]
    public EventCallback<bool> OnEditorThemeChanged { get; set; }

    private bool EnableBrushSize => CurrentTool is EditorToolEnum.Brush or EditorToolEnum.Eraser;

    private bool EnableIntensitySelector => CurrentTool is EditorToolEnum.Brush or EditorToolEnum.Fill;
}
