@using ActivityPaint.Client.Components.Shared
@using ActivityPaint.Core.Enums

<MudPaper Elevation="25">
    <MudToolBar>
        <MudToggleGroup T="EditorTool" SelectionMode="SelectionMode.SingleSelection" @bind-Value="CurrentTool">
            <MudToggleItem Value="EditorTool.Brush">
                <MudIcon Icon="@Icons.Material.Filled.Brush" />
            </MudToggleItem>
            <MudToggleItem Value="EditorTool.Eraser">
                <MudIcon Icon="@CustomIcons.Eraser" />
            </MudToggleItem>
            <MudToggleItem Value="EditorTool.Fill">
                <MudIcon Icon="@Icons.Material.Filled.FormatColorFill" />
            </MudToggleItem>
        </MudToggleGroup>
        <MudButtonGroup Color="Color.Primary" Variant="Variant.Filled">
            <MudButton>+</MudButton>
            <MudNumericField Min="1" @bind-Value="BrushSize" Max="60" HideSpinButtons="true" />
            <MudButton>-</MudButton>
        </MudButtonGroup>
        <MudToggleGroup T="IntensityEnum" SelectionMode="SelectionMode.SingleSelection">
            <MudToggleItem Value="IntensityEnum.Level0">
                <MudIcon Icon="@Icons.Material.Filled.Square" />
            </MudToggleItem>
            <MudToggleItem Value="IntensityEnum.Level1">
                <MudIcon Icon="@Icons.Material.Filled.Square" />
            </MudToggleItem>
            <MudToggleItem Value="IntensityEnum.Level2">
                <MudIcon Icon="@Icons.Material.Filled.Square" />
            </MudToggleItem>
            <MudToggleItem Value="IntensityEnum.Level3">
                <MudIcon Icon="@Icons.Material.Filled.Square" />
            </MudToggleItem>
            <MudToggleItem Value="IntensityEnum.Level4">
                <MudIcon Icon="@Icons.Material.Filled.Square" />
            </MudToggleItem>
        </MudToggleGroup>
    </MudToolBar>
</MudPaper>

@code {
    public enum EditorTool
    {
        Brush, Eraser, Fill
    }

    [Parameter]
    public EditorTool CurrentTool { get; set; } = EditorTool.Brush;

    [Parameter]
    public int BrushSize { get; set; } = 1;

    [Parameter]
    public IntensityEnum SelectedIntensity { get; set; } = IntensityEnum.Level0;

    [Parameter]
    public EventCallback<EditorTool> CurrentToolChanged { get; set; }

    [Parameter]
    public EventCallback<int> BrushSizeChanged { get; set; }

    [Parameter]
    public EventCallback<IntensityEnum> SelectedIntensityChanged { get; set; }

    private bool EnableBrushSize => CurrentTool is EditorTool.Brush or EditorTool.Eraser;

    private bool EnableColorSelector => CurrentTool is EditorTool.Brush or EditorTool.Fill;
}
